@page "/todogrpc"
@inject GrpcChannel Channel
@using ToDoApp.Server.GRPC

<h1>Weather forecast</h1>

<p>This component demonstrates fetching data from the server.</p>

@if (test == null)
{
<p><em>Loading...</em></p> }
else
{
@test}

@code { 
    
    private string test;

    protected override async Task OnInitializedAsync()
    {
        var client = new ToDo.ToDoClient(Channel);
        var result = await client.GetToDoListAsync(new GetToDoListRequest { Username = "ion.gritco@gmail.com" });
        test = result.Message;
    } }
